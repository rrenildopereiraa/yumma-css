@use "../breakpoints" as b;

@mixin create-utilities($map, $prefix, $properties) {
  @each $k, $v in map-get($map, "values") {
    // Base utilities
    .#{$prefix}-#{$k} {
      @each $property in $properties {
        #{$property}: $v;
      }
    }

    // Hover variants
    .h\:#{$prefix}-#{$k}:hover {
      @each $property in $properties {
        #{$property}: $v;
      }
    }
  }

  // Responsive variants
  @each $bp, $bp-value in b.$yma-breakpoints {
    @media (min-width: $bp-value) {
      @each $k, $v in map-get($map, "values") {
        .#{$bp}\:#{$prefix}-#{$k} {
          @each $property in $properties {
            #{$property}: $v;
          }
        }
      }
    }
  }
}